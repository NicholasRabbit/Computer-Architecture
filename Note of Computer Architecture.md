### 一, 内存与地址

内存跟居民楼里的邮箱一样，邮箱都有一个房间编号，每个内存单元都有一个地址，CPU通过内存地址找到对应的内存单元，然后读取其中的数据或操作指令。但是一个内存地址对应的内存单元所存数据有限，只能存一个字节byte，即一个字节有一个内存地址。int, long等数据类型占用多个byte，那么这种类型的数据的内存地址就是它们所占内存单元的起始地址。

**小端保存，大端保存？**

```txt
对于多字节的整数类型，低地址保存的是整数的低位，这称为小端（Little Endian）字节序（Byte Order）。x86平台是小端字节序的，而另外一些平台规定低地址保存整数的高位，称为大端（Big Endian）字节序。
```

### 二, CPU

1. CPU用来干什么？
   CPU总是周而复始的做一件事情：从内存读取指令，解释并执行，在读取下一条指令，解释并执行。
   这里的内存不仅指的是一般意义上的那种电脑内存，还有CPU内部的寄存器，缓存等等。
   常见寄存器：eax, esp, eip等。
2. CPU的核心功能组成部件：
   - Register: 寄存器，组装在CPU内部的存储部件，用来存储数据，指令等。
   
   - Program  Counter: 程序计数器，这是一种特殊的寄存器，保存的数据就是CPU准备要读取的指令的内存地址，CPU取得地址后，就去找对应内存中的指令，找到指令信息后给Instruction Decoder执行。
   
   - Instruction Decoder: 指令译码器，解释指令，CPU获取到的指令有很多中类型，有数据，内存地址，寄存器地址等。译码器负责翻译后，然后调用对应的执行单元去执行。
   
   - Arithmetic and Logic Unit: 算数逻辑单元，如果Instruction Decoder得到的指令是进行运算，则会调用ALU，执行加减乘除，位移等。同时过来的指令中含有运算结果的保存地址等信息。
   
   - Bus: CPU和内存之间的地址总线。 CPU和内存之间用地址总线、数据总线和控制线连接起来，每条线上有1和0两种状态 。
     具体参照：<a href="https://akaedu.github.io/book/ch17s02.html">《Linux C 一站式编程》17.2</a>
     操作流程：
   
     ```txt
     1, CPU内部将寄存器对接到数据总线上，使寄存器的每一位对接到一条数据线，等待接收数据。
     2, CPU通过控制线发一个读请求，并且将内存地址通过地址线发给内存。
     3, 内存收到地址和读请求之后，将相应的内存单元对接到数据总线的另一端，这样，内存单元每一位的1或0状态通过一条数据线到达CPU寄存器中相应的位，就完成了数据传送。
     ```
   
     
3. CPU执行过程总结
   CPU执行时有两条主线，一条是Program Counter，这里保存的是指令的地址，可能是按顺序保存的，CPU根据地址找到指令，然后把指令交给Instruction Decoder翻译，翻译后的结果可能是获取指定内存地址的数据，进行运算等。另一条是Register，保存程序的数据或者执行，供CPU使用。

